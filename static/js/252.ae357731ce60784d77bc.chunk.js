"use strict";(self.webpackChunkverovault=self.webpackChunkverovault||[]).push([[252],{7252:(e,t,s)=>{s.r(t),s.d(t,{InsightsSection:()=>u});var a=s(4576),i=s(1894),n=s(9979),r=s(5077);const o=String("").replace(/\/$/,""),c=o.length>0,d=(e,t)=>(async(e,t,s={})=>{if(!o)throw{status:500,message:"API_BASE_URL is not configured"};const a=`${o}${t.startsWith("/")?"":"/"}${t}`,i={"Content-Type":"application/json",...s.headers||{}},n=await fetch(a,{...s,method:e,headers:i,body:void 0!==s.body?JSON.stringify(s.body):void 0});if(!n.ok){let e;try{e=await n.json()}catch(e){}const t=e=>"object"==typeof e&&null!==e&&"string"==typeof e.message;throw{status:n.status,message:t(e)?e.message:n.statusText||"Request failed",details:e}}return(async e=>{const t=await e.text();try{return t?JSON.parse(t):{}}catch(s){throw{status:e.status,message:"Invalid JSON received from server",details:t}}})(n)})("GET",e,t),l=r.Ikc({id:r.YjP(),headline:r.YjP(),impact:r.k5n(["positive","neutral","negative"]),delta:r.aig(),updatedAt:r.YjP()}),p=[{id:"cashflow",headline:"Cash flow runway extended by 5.4 months",impact:"positive",delta:5.4,updatedAt:(new Date).toISOString()},{id:"spend",headline:"Marketing spend efficiency improved 12%",impact:"positive",delta:12,updatedAt:(new Date).toISOString()},{id:"risk",headline:"Transaction risk alerts down 32% week-over-week",impact:"positive",delta:-32,updatedAt:(new Date).toISOString()}],h=async()=>{if(c){const e=await d("/insights");return((e,t)=>{const s=e.safeParse(t);if(!s.success)throw{status:500,message:"Response validation failed",details:s.error.flatten()};return s.data})(r.YOg(l),e)}return await new Promise(e=>setTimeout(e,420)),p.map(e=>({...e,updatedAt:(new Date).toISOString()}))};var m=s(1262),g=s(6070);const u=()=>{const{log:e}=(0,m.L)(),{data:t,isLoading:s,isError:r}=(0,a.I)({queryKey:["insights"],queryFn:h,refetchInterval:15e3,staleTime:1e4});return s?(0,g.jsx)("section",{id:"insights",className:"mx-auto max-w-[1200px] px-6 py-14",children:(0,g.jsx)("div",{className:"grid place-items-center rounded-[18px] border border-cyan-400/30 bg-slate-900/60 px-6 py-12",children:"Loading personalised insights…"})}):r||!t?(0,g.jsx)("section",{id:"insights",className:"mx-auto max-w-[1200px] px-6 py-14",children:(0,g.jsx)("div",{className:"grid place-items-center rounded-[18px] border border-cyan-400/30 bg-slate-900/60 px-6 py-12",children:"We could not fetch insights right now. Please retry shortly."})}):(0,g.jsxs)("section",{id:"insights",className:"mx-auto max-w-[1200px] px-6 py-14",children:[(0,g.jsxs)("header",{className:"mb-6 space-y-2",children:[(0,g.jsx)("p",{className:"text-sm uppercase tracking-[0.35em] text-cyan-200",children:"Insights"}),(0,g.jsx)(i.m.h2,{...(0,n.N)(2,1.005),className:"text-3xl font-bold text-white transition hover:-translate-y-0.5 hover:z-10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/40",children:"Act on what matters"}),(0,g.jsx)("p",{className:"text-slate-300 max-w-2xl",children:"Smart insights show what’s changing and what to do next—so you can move first with confidence."})]}),(0,g.jsx)("div",{className:"grid gap-5 md:grid-cols-3",children:t.map((t,s)=>(0,g.jsxs)(i.m.article,{...(0,n.N)(6,1.02),initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.4},transition:{delay:.1*s,duration:.4},className:"group rounded-[18px] p-6 bg-slate-900/80 border border-cyan-400/25 shadow-[0_20px_45px_rgba(15,23,42,0.45)] nv-card-hover",children:[(0,g.jsx)("p",{className:"text-sm font-semibold uppercase tracking-wide text-sky-300 transition transform group-hover:-translate-y-0.5 group-hover:scale-105",children:t.id}),(0,g.jsx)(i.m.h3,{...(0,n.N)(2,1.005),className:"mt-2 text-lg font-semibold text-white transition hover:-translate-y-0.5 hover:z-10",children:t.headline}),(0,g.jsxs)("p",{className:"mt-3 text-xs text-slate-400",children:["Updated ",new Date(t.updatedAt).toLocaleTimeString()," — impact"," ",(0,g.jsx)("span",{className:"text-emerald-300",children:t.impact})]}),(0,g.jsx)(i.m.button,{type:"button",...(0,n.N)(3,1.01),onClick:()=>e("Insight opened",t),className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-slate-900/50 px-3 py-2 text-xs font-semibold uppercase tracking-wide text-cyan-200 ring-1 ring-cyan-500/40 transition hover:-translate-y-0.5 hover:shadow-lg hover:z-10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/40 active:scale-95",children:"Investigate signal"})]},t.id))})]})}}}]);